
<testsuite name='test.uk.co.strangeskies.p2bnd.test' tests='10' time='11.823' failures='0' skipped='0' target='file:/C:/Users/tofuser/git/uk.co.strangeskies/uk.co.strangeskies.p2bnd.test/generated/uk.co.strangeskies.p2bnd.test.jar' timestamp='2016-05-27T14:50:53' hostname='Elias' framework='org.eclipse.osgi_3.10.101.v20150820-1432 [0]' errors='3' framework-version='3.10.101.v20150820-1432'>
  <properties>
    <property name='java.vendor' value='Oracle Corporation'/>
    <property name='org.osgi.service.http.port' value='8080'/>
    <property name='sun.java.launcher' value='SUN_STANDARD'/>
    <property name='sun.management.compiler' value='HotSpot 64-Bit Tiered Compilers'/>
    <property name='os.name' value='Windows 7'/>
    <property name='sun.boot.class.path' value='C:\Program Files\Java\jdk\jre\lib\resources.jar;C:\Program Files\Java\jdk\jre\lib\rt.jar;C:\Program Files\Java\jdk\jre\lib\sunrsasign.jar;C:\Program Files\Java\jdk\jre\lib\jsse.jar;C:\Program Files\Java\jdk\jre\lib\jce.jar;C:\Program Files\Java\jdk\jre\lib\charsets.jar;C:\Program Files\Java\jdk\jre\lib\jfr.jar;C:\Program Files\Java\jdk\jre\classes'/>
    <property name='sun.desktop' value='windows'/>
    <property name='java.vm.specification.vendor' value='Oracle Corporation'/>
    <property name='java.runtime.version' value='1.8.0_60-b27'/>
    <property name='launch.services' value='true'/>
    <property name='launch.notificationPort' value='52128'/>
    <property name='launcher.properties' value='C:\Users\tofuser\git\uk.co.strangeskies\uk.co.strangeskies.p2bnd.test\generated\launch4019070093735380389.properties'/>
    <property name='user.name' value='tofuser'/>
    <property name='launch.bundles' value='C:\Users\tofuser\.bnd\cache\https%3A%2F%2Fraw.githubusercontent.com%2Fosgi%2Fosgi.enroute%2Fmaster%2Fcnf%2Fdistro%2Fbiz.aQute.bndlib\biz.aQute.bndlib-3.0.0.jar,C:\Users\tofuser\.bnd\cache\https%3A%2F%2Fraw.githubusercontent.com%2Fosgi%2Fosgi.enroute%2Fmaster%2Fcnf%2Fdistro%2Fbiz.aQute.tester\biz.aQute.tester-3.0.0.jar,C:\Users\tofuser\.bnd\cache\https%3A%2F%2Fraw.githubusercontent.com%2Fosgi%2Fosgi.enroute%2Fmaster%2Fcnf%2Fdistro%2Forg.apache.felix.configadmin\org.apache.felix.configadmin-1.8.6.jar,C:\Users\tofuser\.bnd\cache\https%3A%2F%2Fraw.githubusercontent.com%2Fosgi%2Fosgi.enroute%2Fmaster%2Fcnf%2Fdistro%2Forg.apache.felix.log\org.apache.felix.log-1.0.1.jar,C:\Users\tofuser\.bnd\cache\https%3A%2F%2Fraw.githubusercontent.com%2Fosgi%2Fosgi.enroute%2Fmaster%2Fcnf%2Fdistro%2Forg.apache.felix.scr\org.apache.felix.scr-2.0.0.jar,C:\Users\tofuser\.bnd\cache\https%3A%2F%2Fraw.githubusercontent.com%2Fosgi%2Fosgi.enroute%2Fmaster%2Fcnf%2Fdistro%2Forg.eclipse.equinox.metatype\org.eclipse.equinox.metatype-1.4.100.jar,C:\Users\tofuser\.bnd\cache\http%3A%2F%2Fdownload.eclipse.org%2Fefxclipse%2Fruntime-nightly%2Fsite%2Fplugins\org.hamcrest.core_1.3.0.v201303031735.jar,C:\Users\tofuser\.bnd\cache\http%3A%2F%2Fdownload.eclipse.org%2Fefxclipse%2Fruntime-nightly%2Fsite%2Fplugins\org.junit_4.12.0.v201504281640.jar,C:\Users\tofuser\.bnd\cache\https%3A%2F%2Fraw.githubusercontent.com%2Fosgi%2Fosgi.enroute%2Fmaster%2Fcnf%2Fdistro%2Forg.osgi.service.metatype\org.osgi.service.metatype-1.3.0.jar,C:\Users\tofuser\.bnd\cache\https%3A%2F%2Fraw.githubusercontent.com%2Fosgi%2Fosgi.enroute%2Fmaster%2Fcnf%2Fdistro%2Fosgi.enroute.logger.simple.provider\osgi.enroute.logger.simple.provider-1.2.1.jar,C:\Users\tofuser\git\uk.co.strangeskies\uk.co.strangeskies.bnd\generated\uk.co.strangeskies.bnd.jar,C:\Users\tofuser\git\uk.co.strangeskies\uk.co.strangeskies.osgi\generated\uk.co.strangeskies.osgi.api.jar,C:\Users\tofuser\git\uk.co.strangeskies\uk.co.strangeskies.p2\generated\uk.co.strangeskies.p2.api.jar,C:\Users\tofuser\git\uk.co.strangeskies\uk.co.strangeskies.p2bnd\generated\uk.co.strangeskies.p2bnd.bundle.jar,C:\Users\tofuser\git\uk.co.strangeskies\uk.co.strangeskies.utilities\generated\uk.co.strangeskies.utilities.jar,C:\Users\tofuser\git\uk.co.strangeskies\uk.co.strangeskies.p2bnd.test\generated\uk.co.strangeskies.p2bnd.test.jar'/>
    <property name='user.language' value='en'/>
    <property name='org.apache.felix.http.whiteboardEnabled' value='true'/>
    <property name='sun.boot.library.path' value='C:\Program Files\Java\jdk\jre\bin'/>
    <property name='java.version' value='1.8.0_60'/>
    <property name='user.timezone' value='Europe/London'/>
    <property name='tester.dir' value='testdir'/>
    <property name='sun.arch.data.model' value='64'/>
    <property name='java.endorsed.dirs' value='C:\Program Files\Java\jdk\jre\lib\endorsed'/>
    <property name='sun.cpu.isalist' value='amd64'/>
    <property name='sun.jnu.encoding' value='Cp1252'/>
    <property name='file.encoding.pkg' value='sun.io'/>
    <property name='launch.noreferences' value='false'/>
    <property name='file.separator' value='\'/>
    <property name='java.specification.name' value='Java Platform API Specification'/>
    <property name='java.class.version' value='52.0'/>
    <property name='user.country' value='GB'/>
    <property name='java.home' value='C:\Program Files\Java\jdk\jre'/>
    <property name='java.vm.info' value='mixed mode'/>
    <property name='os.version' value='6.1'/>
    <property name='path.separator' value=';'/>
    <property name='java.vm.version' value='25.60-b23'/>
    <property name='osgi.console' value=''/>
    <property name='user.variant' value=''/>
    <property name='java.awt.printerjob' value='sun.awt.windows.WPrinterJob'/>
    <property name='sun.io.unicode.encoding' value='UnicodeLittle'/>
    <property name='awt.toolkit' value='sun.awt.windows.WToolkit'/>
    <property name='user.script' value=''/>
    <property name='user.home' value='C:\Users\tofuser'/>
    <property name='java.specification.vendor' value='Oracle Corporation'/>
    <property name='java.library.path' value='C:\Program Files\Java\jdk\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:/Program Files/Java/jdk/bin/../jre/bin/server;C:/Program Files/Java/jdk/bin/../jre/bin;C:/Program Files/Java/jdk/bin/../jre/lib/amd64;C:\Program Files\Java\jdk\bin;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files\Microsoft SQL Server\110\Tools\Binn\;C:\Program Files\Microsoft SQL Server\120\Tools\Binn\;C:\Program Files\TortoiseSVN\bin;c:\program files\SAI\msapex\;c:\program files (x86)\SAI\msapex\;C:\Program Files\SlikSvn\bin;C:\Program Files (x86)\Windows Kits\8.1\Windows Performance Toolkit\;C:\Program Files (x86)\Microsoft SDKs\TypeScript\1.0\;C:\Program Files (x86)\Git\cmd;C:\Program Files (x86)\Git\bin;c:\Program Files (x86)\Microsoft SQL Server\90\Tools\binn\;C:\Program Files (x86)\AMD\ATI.ACE\Core-Static;C:\Program Files\OpenVPN\bin;C:\JPM4J\bin;C:\JPM4J\bin;C:\Ruby22-x64\bin;C:\Program Files (x86)\Nmap;C:\Program Files\Eclipse Mars;;.'/>
    <property name='java.vendor.url' value='http://java.oracle.com/'/>
    <property name='java.vm.vendor' value='Oracle Corporation'/>
    <property name='java.runtime.name' value='Java(TM) SE Runtime Environment'/>
    <property name='sun.java.command' value='aQute.launcher.Launcher'/>
    <property name='java.class.path' value='C:\Users\tofuser\.bnd\cache\https%3A%2F%2Fraw.githubusercontent.com%2Fosgi%2Fosgi.enroute%2Fmaster%2Fcnf%2Fdistro%2Fosgi.enroute.equinox.log.adapter\osgi.enroute.equinox.log.adapter-1.0.1.jar;C:\Users\tofuser\.bnd\cache\https%3A%2F%2Fdl.bintray.com%2Fstrangeskies%2Forg.eclipse%2Forg.eclipse.platform%2F4.5.1%2Forg.eclipse.osgi\org.eclipse.osgi-3.10.101.jar;C:\Users\tofuser\git\uk.co.strangeskies\cnf\cache\3.3.0\biz.aQute.launcher\biz.aQute.launcher-3.3.0.jar'/>
    <property name='launch.system.capabilities' value='osgi.native;osgi.native.osname:List&lt;String&gt;="Windows7,Windows 7,Win32";osgi.native.osversion:Version="6.1.0";osgi.native.processor:List&lt;String&gt;="x86-64,amd64,em64t,x86_64"'/>
    <property name='launch.name' value='uk.co.strangeskies.p2bnd.test'/>
    <property name='launch.timeout' value='0'/>
    <property name='launch.storage.dir' value='C:\Users\tofuser\git\uk.co.strangeskies\uk.co.strangeskies.p2bnd.test\generated\fw'/>
    <property name='launch.keep' value='false'/>
    <property name='java.vm.specification.name' value='Java Virtual Machine Specification'/>
    <property name='java.vm.specification.version' value='1.8'/>
    <property name='sun.cpu.endian' value='little'/>
    <property name='sun.os.patch.level' value='Service Pack 1'/>
    <property name='java.io.tmpdir' value='C:\Users\tofuser\AppData\Local\Temp\'/>
    <property name='java.vendor.url.bug' value='http://bugreport.sun.com/bugreport/'/>
    <property name='os.arch' value='amd64'/>
    <property name='java.awt.graphicsenv' value='sun.awt.Win32GraphicsEnvironment'/>
    <property name='java.ext.dirs' value='C:\Program Files\Java\jdk\jre\lib\ext;C:\Windows\Sun\Java\lib\ext'/>
    <property name='user.dir' value='C:\Users\tofuser\git\uk.co.strangeskies\uk.co.strangeskies.p2bnd.test'/>
    <property name='launch.trace' value='false'/>
    <property name='line.separator' value='
'/>
    <property name='java.vm.name' value='Java HotSpot(TM) 64-Bit Server VM'/>
    <property name='launch.embedded' value='false'/>
    <property name='launch.activators' value='osgi.enroute.equinox.log.adapter.HideEquinoxLog'/>
    <property name='osgi.console.enable.builtin' value='false'/>
    <property name='file.encoding' value='Cp1252'/>
    <property name='org.apache.felix.http.jettyEnabled' value='true'/>
    <property name='launch.system.packages' value='javax.script,org.eclipse.core.runtime.adaptor;x-friends:="org.eclipse.core.runtime",org.eclipse.core.runtime.internal.adaptor;x-internal:=true,org.eclipse.equinox.log;version="1.0",org.eclipse.osgi.container;version="1.0",org.eclipse.osgi.container.builders;version="1.0",org.eclipse.osgi.container.namespaces;version="1.0",org.eclipse.osgi.framework.console;version="1.1",org.eclipse.osgi.framework.eventmgr;version="1.2",org.eclipse.osgi.framework.internal.reliablefile;x-internal:=true,org.eclipse.osgi.framework.log;version="1.1",org.eclipse.osgi.framework.util;x-internal:=true,org.eclipse.osgi.internal.debug;x-internal:=true,org.eclipse.osgi.internal.framework;x-internal:=true,org.eclipse.osgi.internal.hookregistry;x-friends:="org.eclipse.osgi.tests",org.eclipse.osgi.internal.loader;x-internal:=true,org.eclipse.osgi.internal.loader.buddy;x-internal:=true,org.eclipse.osgi.internal.loader.classpath;x-internal:=true,org.eclipse.osgi.internal.loader.sources;x-internal:=true,org.eclipse.osgi.internal.location;x-internal:=true,org.eclipse.osgi.internal.messages;x-internal:=true,org.eclipse.osgi.internal.provisional.service.security;version="1.0.0";x-friends:="org.eclipse.equinox.security.ui",org.eclipse.osgi.internal.provisional.verifier;x-friends:="org.eclipse.update.core,org.eclipse.ui.workbench,org.eclipse.equinox.p2.artifact.repository",org.eclipse.osgi.internal.service.security;x-friends:="org.eclipse.equinox.security.ui",org.eclipse.osgi.internal.serviceregistry;x-internal:=true,org.eclipse.osgi.internal.signedcontent;x-internal:=true,org.eclipse.osgi.internal.url;x-internal:=true,org.eclipse.osgi.launch;version="1.0",org.eclipse.osgi.report.resolution;version="1.0",org.eclipse.osgi.service.datalocation;version="1.3",org.eclipse.osgi.service.debug;version="1.2",org.eclipse.osgi.service.environment;version="1.3",org.eclipse.osgi.service.localization;version="1.1",org.eclipse.osgi.service.pluginconversion;version="1.0",org.eclipse.osgi.service.resolver;version="1.6",org.eclipse.osgi.service.runnable;version="1.1",org.eclipse.osgi.service.security;version="1.0",org.eclipse.osgi.service.urlconversion;version="1.0",org.eclipse.osgi.signedcontent;version="1.0",org.eclipse.osgi.storage;x-friends:="org.eclipse.osgi.tests",org.eclipse.osgi.storage.bundlefile;x-internal:=true,org.eclipse.osgi.storage.url.reference;x-internal:=true,org.eclipse.osgi.storagemanager;version="1.0",org.eclipse.osgi.util;version="1.1",org.osgi.dto;version="1.0",org.osgi.framework;version="1.8",org.osgi.framework.dto;version="1.8",org.osgi.framework.hooks.bundle;version="1.1",org.osgi.framework.hooks.resolver;version="1.0",org.osgi.framework.hooks.service;version="1.1",org.osgi.framework.hooks.weaving;version="1.1",org.osgi.framework.launch;version="1.2",org.osgi.framework.namespace;version="1.1",org.osgi.framework.startlevel;version="1.0",org.osgi.framework.startlevel.dto;version="1.0",org.osgi.framework.wiring;version="1.2",org.osgi.framework.wiring.dto;version="1.2",org.osgi.resource;version="1.0",org.osgi.resource.dto;version="1.0",org.osgi.service.condpermadmin;version="1.1.1",org.osgi.service.log;version="1.3",org.osgi.service.packageadmin;version="1.2",org.osgi.service.permissionadmin;version="1.2",org.osgi.service.resolver;version="1.0.1",org.osgi.service.startlevel;version="1.1",org.osgi.service.url;version="1.0",org.osgi.util.tracker;version="1.5.1"'/>
    <property name='java.specification.version' value='1.8'/>
  </properties>
  <bundles>
    <bundle version='3.10.101.v20150820-1432' location='System Bundle' bsn='org.eclipse.osgi' modified='2016-05-27T14:50:41' state='32' id='0'/>
    <bundle version='3.0.0.201508170644' location='file:/C:/Users/tofuser/.bnd/cache/https%253A%252F%252Fraw.githubusercontent.com%252Fosgi%252Fosgi.enroute%252Fmaster%252Fcnf%252Fdistro%252Fbiz.aQute.bndlib/biz.aQute.bndlib-3.0.0.jar' bsn='biz.aQute.bndlib' modified='2016-05-27T14:50:41' state='32' id='1'/>
    <bundle version='3.0.0.201508170645' location='file:/C:/Users/tofuser/.bnd/cache/https%253A%252F%252Fraw.githubusercontent.com%252Fosgi%252Fosgi.enroute%252Fmaster%252Fcnf%252Fdistro%252Fbiz.aQute.tester/biz.aQute.tester-3.0.0.jar' bsn='biz.aQute.tester' modified='2016-05-27T14:50:41' state='32' id='2'/>
    <bundle version='1.8.6' location='file:/C:/Users/tofuser/.bnd/cache/https%253A%252F%252Fraw.githubusercontent.com%252Fosgi%252Fosgi.enroute%252Fmaster%252Fcnf%252Fdistro%252Forg.apache.felix.configadmin/org.apache.felix.configadmin-1.8.6.jar' bsn='org.apache.felix.configadmin' modified='2016-05-27T14:50:41' state='32' id='3'/>
    <bundle version='1.0.1' location='file:/C:/Users/tofuser/.bnd/cache/https%253A%252F%252Fraw.githubusercontent.com%252Fosgi%252Fosgi.enroute%252Fmaster%252Fcnf%252Fdistro%252Forg.apache.felix.log/org.apache.felix.log-1.0.1.jar' bsn='org.apache.felix.log' modified='2016-05-27T14:50:41' state='32' id='4'/>
    <bundle version='2.0.0' location='file:/C:/Users/tofuser/.bnd/cache/https%253A%252F%252Fraw.githubusercontent.com%252Fosgi%252Fosgi.enroute%252Fmaster%252Fcnf%252Fdistro%252Forg.apache.felix.scr/org.apache.felix.scr-2.0.0.jar' bsn='org.apache.felix.scr' modified='2016-05-27T14:50:41' state='32' id='5'/>
    <bundle version='1.4.100.v20150408-1437' location='file:/C:/Users/tofuser/.bnd/cache/https%253A%252F%252Fraw.githubusercontent.com%252Fosgi%252Fosgi.enroute%252Fmaster%252Fcnf%252Fdistro%252Forg.eclipse.equinox.metatype/org.eclipse.equinox.metatype-1.4.100.jar' bsn='org.eclipse.equinox.metatype' modified='2016-05-27T14:50:41' state='32' id='6'/>
    <bundle version='1.3.0.v201303031735' location='file:/C:/Users/tofuser/.bnd/cache/http%253A%252F%252Fdownload.eclipse.org%252Fefxclipse%252Fruntime-nightly%252Fsite%252Fplugins/org.hamcrest.core_1.3.0.v201303031735.jar' bsn='org.hamcrest.core' modified='2016-05-27T14:50:41' state='8' id='7'/>
    <bundle version='4.12.0.v201504281640' location='file:/C:/Users/tofuser/.bnd/cache/http%253A%252F%252Fdownload.eclipse.org%252Fefxclipse%252Fruntime-nightly%252Fsite%252Fplugins/org.junit_4.12.0.v201504281640.jar' bsn='org.junit' modified='2016-05-27T14:50:41' state='32' id='8'/>
    <bundle version='1.3.0.201505202024' location='file:/C:/Users/tofuser/.bnd/cache/https%253A%252F%252Fraw.githubusercontent.com%252Fosgi%252Fosgi.enroute%252Fmaster%252Fcnf%252Fdistro%252Forg.osgi.service.metatype/org.osgi.service.metatype-1.3.0.jar' bsn='org.osgi.service.metatype' modified='2016-05-27T14:50:41' state='32' id='9'/>
    <bundle version='1.2.1.201510121300' location='file:/C:/Users/tofuser/.bnd/cache/https%253A%252F%252Fraw.githubusercontent.com%252Fosgi%252Fosgi.enroute%252Fmaster%252Fcnf%252Fdistro%252Fosgi.enroute.logger.simple.provider/osgi.enroute.logger.simple.provider-1.2.1.jar' bsn='osgi.enroute.logger.simple.provider' modified='2016-05-27T14:50:41' state='32' id='10'/>
    <bundle version='1.0.13.201605271153' location='file:/C:/Users/tofuser/git/uk.co.strangeskies/uk.co.strangeskies.bnd/generated/uk.co.strangeskies.bnd.jar' bsn='uk.co.strangeskies.bnd' modified='2016-05-27T14:50:41' state='32' id='11'/>
    <bundle version='1.0.13.201605271336' location='file:/C:/Users/tofuser/git/uk.co.strangeskies/uk.co.strangeskies.osgi/generated/uk.co.strangeskies.osgi.api.jar' bsn='uk.co.strangeskies.osgi.api' modified='2016-05-27T14:50:41' state='32' id='12'/>
    <bundle version='1.0.13.201605271344' location='file:/C:/Users/tofuser/git/uk.co.strangeskies/uk.co.strangeskies.p2/generated/uk.co.strangeskies.p2.api.jar' bsn='uk.co.strangeskies.p2.api' modified='2016-05-27T14:50:41' state='32' id='13'/>
    <bundle version='1.0.13.201605271344' location='file:/C:/Users/tofuser/git/uk.co.strangeskies/uk.co.strangeskies.p2bnd/generated/uk.co.strangeskies.p2bnd.bundle.jar' bsn='uk.co.strangeskies.p2bnd.bundle' modified='2016-05-27T14:50:41' state='32' id='14'/>
    <bundle version='1.0.13.201605271153' location='file:/C:/Users/tofuser/git/uk.co.strangeskies/uk.co.strangeskies.utilities/generated/uk.co.strangeskies.utilities.jar' bsn='uk.co.strangeskies.utilities' modified='2016-05-27T14:50:41' state='32' id='15'/>
    <bundle version='1.0.13.201605271349' location='file:/C:/Users/tofuser/git/uk.co.strangeskies/uk.co.strangeskies.p2bnd.test/generated/uk.co.strangeskies.p2bnd.test.jar' bsn='uk.co.strangeskies.p2bnd.test' modified='2016-05-27T14:50:41' state='32' target='true' id='16'/>
  </bundles>
  <testcase name='createTwoRepositoriesTest' time='0.27' classname='uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest'>
    <system-out>
      INFO: Creating P2BndRepository
WARN: Setting P2 repository
       properties: {name=first, location=http://download.eclipse.org/releases/mars/}
      
INFO: Creating P2BndRepository
WARN: Setting P2 repository
       properties: {name=second, location=http://download.eclipse.org/releases/mars/}
    </system-out>
  </testcase>
  <testcase name='createRepositoryTest' time='0.1' classname='uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest'>
    <system-out>
      INFO: Creating P2BndRepository
WARN: Setting P2 repository
       properties: {name=first, location=http://download.eclipse.org/releases/mars/}
    </system-out>
  </testcase>
  <testcase name='getRepositoryNameTest' time='5.954' classname='uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest'>
    <error type='java.lang.RuntimeException'><![CDATA[java.lang.RuntimeException: Unable to start framework
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.runtimeException(FrameworkWrapperImpl.java:187)
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.startFramework(FrameworkWrapperImpl.java:164)
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withFramework(FrameworkWrapperImpl.java:253)
 at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.withConnection(FrameworkWrapperContainer.java:103)
 at uk.co.strangeskies.p2.bnd.P2BndRepository.withConnection(P2BndRepository.java:256)
 at uk.co.strangeskies.p2.bnd.P2BndRepository.getName(P2BndRepository.java:283)
 at uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest.getRepositoryNameTest(P2BndRepositoryTest.java:117)
 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 at java.lang.reflect.Method.invoke(Method.java:497)
 at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
 at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
 at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
 at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
 at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
 at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
 at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
 at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
 at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
 at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
 at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
 at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
 at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
 at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
 at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
 at junit.framework.TestSuite.runTest(TestSuite.java:252)
 at junit.framework.TestSuite.run(TestSuite.java:247)
 at aQute.junit.Activator.test(Activator.java:325)
 at aQute.junit.Activator.automatic(Activator.java:208)
 at aQute.junit.Activator.run(Activator.java:142)
 at aQute.launcher.Launcher$5.call(Launcher.java:1213)
 at aQute.launcher.Launcher$5.call(Launcher.java:1211)
 at aQute.launcher.Launcher.run(Launcher.java:315)
 at aQute.launcher.Launcher.main(Launcher.java:132)
Caused by: java.lang.IllegalStateException: Unable to obtain service uk.co.strangeskies.p2.P2RepositoryFactory
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:325)
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:275)
 at uk.co.strangeskies.osgi.frameworkwrapper.FrameworkWrapper.withService(FrameworkWrapper.java:181)
 at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.lambda$2(FrameworkWrapperContainer.java:162)
 at uk.co.strangeskies.utilities.ObservableImpl.fire(ObservableImpl.java:65)
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.startFramework(FrameworkWrapperImpl.java:162)
 ... 33 more
]]>
    </error>
    <system-out>
      INFO: Creating P2BndRepository
WARN: Setting P2 repository
       properties: {name=first, location=http://download.eclipse.org/releases/mars/}
      
INFO: Setting framework URL
INFO: Creating delegating classloader
       to [file:/C:/Users/tofuser/AppData/Local/Temp/framework1457901952504159300.jar,
       file:/C:/Users/tofuser/AppData/Local/Temp/framework3041704394334003686.jar]
      
INFO: Fetching framework wrapper service loader
INFO: Loading
       framework wrapper service
INFO: Initialise framework wrapper
       properties
INFO: Fetching framework service loader
INFO:
       Loading framework service
INFO: Loading framework
INFO:
       Starting framework
INFO: Registering bundles
[1464357043431;
       INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.utilities.text.LocaleManager, uk.co.strangeskies.utilities.text.LocaleProvider}={component.name=uk.co.strangeskies.osgi.text.LocaleManagerService,
       component.id=12, service.id=65, service.bundleid=26, service.scope=bundle}]
       ServiceEvent REGISTERED
[1464357043432; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.utilities.text.Localizer}={component.name=uk.co.strangeskies.osgi.text.LocalizerService,
       component.id=13, service.id=66, service.bundleid=26, service.scope=prototype}]
       ServiceEvent REGISTERED
[1464357043431; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.utilities.text.LocaleManager, uk.co.strangeskies.utilities.text.LocaleProvider}={component.name=uk.co.strangeskies.osgi.text.LocaleManagerService,
       component.id=12, service.id=65, service.bundleid=26, service.scope=bundle}]
       ServiceEvent REGISTERED
[1464357043432; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.utilities.text.Localizer}={component.name=uk.co.strangeskies.osgi.text.LocalizerService,
       component.id=13, service.id=66, service.bundleid=26, service.scope=prototype}]
       ServiceEvent REGISTERED
[1464357043432; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]] BundleEvent STARTED
[1464357043432; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]] BundleEvent STARTED
INFO: Successfully started bundles
      
[1464357043435; ERROR  ; uk.co.strangeskies.p2.provider_1.0.13.201605271344
       [12]] FrameworkEvent ERROR
[1464357043436; ERROR  ; uk.co.strangeskies.p2.provider_1.0.13.201605271344
       [12]] FrameworkEvent ERROR
ERROR: Timed out waiting for service
       uk.co.strangeskies.p2.P2RepositoryFactory
ERROR: Unable to
       perform action with service interface uk.co.strangeskies.p2.P2RepositoryFactory:
       Unable to obtain service uk.co.strangeskies.p2.P2RepositoryFactory
      
ERROR: Unable to start framework: Unable to obtain service
       uk.co.strangeskies.p2.P2RepositoryFactory
ERROR: Unable to
       perform framework action uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer$$Lambda$55/96406857@149dd36b:
       Unable to start framework
    </system-out>
    <system-err>
      org.apache.felix.log.LogException: org.osgi.framework.ServiceException:
       Exception in org.apache.felix.scr.impl.manager.SingleComponentManager.getService()
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.factoryGetService(ServiceFactoryUse.java:222)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.getService(ServiceFactoryUse.java:111)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceConsumer$2.getService(ServiceConsumer.java:45)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:496)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:461)
      
	at org.eclipse.osgi.internal.framework.BundleContextImpl.getService(BundleContextImpl.java:619)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:314)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:275)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.FrameworkWrapper.withService(FrameworkWrapper.java:181)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.lambda$2(FrameworkWrapperContainer.java:162)
      
	at uk.co.strangeskies.utilities.ObservableImpl.fire(ObservableImpl.java:65)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.startFramework(FrameworkWrapperImpl.java:162)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withFramework(FrameworkWrapperImpl.java:253)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.withConnection(FrameworkWrapperContainer.java:103)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.withConnection(P2BndRepository.java:256)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.getName(P2BndRepository.java:283)
      
	at uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest.getRepositoryNameTest(P2BndRepositoryTest.java:117)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
      
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
      
	at java.lang.reflect.Method.invoke(Method.java:497)
	at
       org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
      
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
      
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
      
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
      
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
      
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
      
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
      
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
      
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
      
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
      
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
      
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
      
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
      
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
      
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at
       aQute.junit.Activator.test(Activator.java:325)
	at aQute.junit.Activator.automatic(Activator.java:208)
      
	at aQute.junit.Activator.run(Activator.java:142)
	at aQute.launcher.Launcher$5.call(Launcher.java:1213)
      
	at aQute.launcher.Launcher$5.call(Launcher.java:1211)

      	at aQute.launcher.Launcher.run(Launcher.java:315)
	at aQute.launcher.Launcher.main(Launcher.java:132)
      
Caused by: org.apache.felix.log.LogException: java.lang.NoClassDefFoundError:
       uk/co/strangeskies/p2/P2RepositoryFactory
	at java.lang.ClassLoader.defineClass1(Native
       Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:760)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.defineClass(ModuleClassLoader.java:272)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.defineClass(ClasspathManager.java:632)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findClassImpl(ClasspathManager.java:588)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClassImpl(ClasspathManager.java:540)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:527)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:324)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:327)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:402)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:352)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:344)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)
      
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
      
	at org.eclipse.osgi.internal.framework.EquinoxBundle.loadClass(EquinoxBundle.java:573)
      
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.initDependencyManagers(AbstractComponentManager.java:952)
      
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:980)
      
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:793)
      
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:763)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse$1.run(ServiceFactoryUse.java:212)
      
	at java.security.AccessController.doPrivileged(Native Method)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.factoryGetService(ServiceFactoryUse.java:210)
      
	... 44 more
Caused by: java.lang.ClassNotFoundException:
       uk.co.strangeskies.p2.P2RepositoryFactory cannot be found
       by uk.co.strangeskies.p2.provider_1.0.13.201605271344
	at
       org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:389)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:352)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:344)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)
      
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
      
	... 66 more
org.osgi.framework.ServiceException: Exception
       in org.apache.felix.scr.impl.manager.SingleComponentManager.getService()
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.factoryGetService(ServiceFactoryUse.java:222)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.getService(ServiceFactoryUse.java:111)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceConsumer$2.getService(ServiceConsumer.java:45)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:496)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:461)
      
	at org.eclipse.osgi.internal.framework.BundleContextImpl.getService(BundleContextImpl.java:619)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:314)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:275)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.FrameworkWrapper.withService(FrameworkWrapper.java:181)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.lambda$2(FrameworkWrapperContainer.java:162)
      
	at uk.co.strangeskies.utilities.ObservableImpl.fire(ObservableImpl.java:65)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.startFramework(FrameworkWrapperImpl.java:162)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withFramework(FrameworkWrapperImpl.java:253)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.withConnection(FrameworkWrapperContainer.java:103)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.withConnection(P2BndRepository.java:256)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.getName(P2BndRepository.java:283)
      
	at uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest.getRepositoryNameTest(P2BndRepositoryTest.java:117)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
      
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
      
	at java.lang.reflect.Method.invoke(Method.java:497)
	at
       org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
      
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
      
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
      
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
      
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
      
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
      
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
      
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
      
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
      
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
      
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
      
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
      
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
      
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
      
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at
       aQute.junit.Activator.test(Activator.java:325)
	at aQute.junit.Activator.automatic(Activator.java:208)
      
	at aQute.junit.Activator.run(Activator.java:142)
	at aQute.launcher.Launcher$5.call(Launcher.java:1213)
      
	at aQute.launcher.Launcher$5.call(Launcher.java:1211)

      	at aQute.launcher.Launcher.run(Launcher.java:315)
	at aQute.launcher.Launcher.main(Launcher.java:132)
      
Caused by: java.lang.NoClassDefFoundError: uk/co/strangeskies/p2/P2RepositoryFactory
      
	at java.lang.ClassLoader.defineClass1(Native Method)
	at
       java.lang.ClassLoader.defineClass(ClassLoader.java:760)

      	at org.eclipse.osgi.internal.loader.ModuleClassLoader.defineClass(ModuleClassLoader.java:272)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.defineClass(ClasspathManager.java:632)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findClassImpl(ClasspathManager.java:588)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClassImpl(ClasspathManager.java:540)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:527)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:324)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:327)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:402)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:352)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:344)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)
      
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
      
	at org.eclipse.osgi.internal.framework.EquinoxBundle.loadClass(EquinoxBundle.java:573)
      
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.initDependencyManagers(AbstractComponentManager.java:952)
      
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:980)
      
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:793)
      
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:763)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse$1.run(ServiceFactoryUse.java:212)
      
	at java.security.AccessController.doPrivileged(Native Method)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.factoryGetService(ServiceFactoryUse.java:210)
      
	... 44 more
Caused by: java.lang.ClassNotFoundException:
       uk.co.strangeskies.p2.P2RepositoryFactory cannot be found
       by uk.co.strangeskies.p2.provider_1.0.13.201605271344
	at
       org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:389)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:352)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:344)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)
      
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
      
	... 66 more
java.lang.IllegalStateException: Unable to
       obtain service uk.co.strangeskies.p2.P2RepositoryFactory
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:325)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:275)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.FrameworkWrapper.withService(FrameworkWrapper.java:181)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.lambda$2(FrameworkWrapperContainer.java:162)
      
	at uk.co.strangeskies.utilities.ObservableImpl.fire(ObservableImpl.java:65)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.startFramework(FrameworkWrapperImpl.java:162)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withFramework(FrameworkWrapperImpl.java:253)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.withConnection(FrameworkWrapperContainer.java:103)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.withConnection(P2BndRepository.java:256)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.getName(P2BndRepository.java:283)
      
	at uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest.getRepositoryNameTest(P2BndRepositoryTest.java:117)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
      
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
      
	at java.lang.reflect.Method.invoke(Method.java:497)
	at
       org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
      
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
      
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
      
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
      
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
      
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
      
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
      
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
      
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
      
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
      
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
      
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
      
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
      
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
      
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at
       aQute.junit.Activator.test(Activator.java:325)
	at aQute.junit.Activator.automatic(Activator.java:208)
      
	at aQute.junit.Activator.run(Activator.java:142)
	at aQute.launcher.Launcher$5.call(Launcher.java:1213)
      
	at aQute.launcher.Launcher$5.call(Launcher.java:1211)

      	at aQute.launcher.Launcher.run(Launcher.java:315)
	at aQute.launcher.Launcher.main(Launcher.java:132)
    </system-err>
  </testcase>
  <testcase name='useAfterCloseTest' time='0.2' classname='uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest'>
    <error type='java.lang.NullPointerException'><![CDATA[java.lang.NullPointerException
 at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.lambda$0(FrameworkWrapperContainer.java:107)
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withFramework(FrameworkWrapperImpl.java:256)
 at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.withConnection(FrameworkWrapperContainer.java:103)
 at uk.co.strangeskies.p2.bnd.P2BndRepository.withConnection(P2BndRepository.java:256)
 at uk.co.strangeskies.p2.bnd.P2BndRepository.getName(P2BndRepository.java:283)
 at uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest.useAfterCloseTest(P2BndRepositoryTest.java:110)
 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 at java.lang.reflect.Method.invoke(Method.java:497)
 at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
 at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
 at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
 at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
 at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
 at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
 at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
 at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
 at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
 at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
 at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
 at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
 at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
 at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
 at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
 at junit.framework.TestSuite.runTest(TestSuite.java:252)
 at junit.framework.TestSuite.run(TestSuite.java:247)
 at aQute.junit.Activator.test(Activator.java:325)
 at aQute.junit.Activator.automatic(Activator.java:208)
 at aQute.junit.Activator.run(Activator.java:142)
 at aQute.launcher.Launcher$5.call(Launcher.java:1213)
 at aQute.launcher.Launcher$5.call(Launcher.java:1211)
 at aQute.launcher.Launcher.run(Launcher.java:315)
 at aQute.launcher.Launcher.main(Launcher.java:132)
]]>
    </error>
    <system-out>
      INFO: Creating P2BndRepository
WARN: Setting P2 repository
       properties: {name=first, location=http://download.eclipse.org/releases/mars/}
      
ERROR: Unable to perform framework action uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer$$Lambda$55/96406857@1a760689:
       null
    </system-out>
  </testcase>
  <testcase name='createRepositoryWaitReopenTest' time='5.811' classname='uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest'>
    <error type='java.lang.RuntimeException'><![CDATA[java.lang.RuntimeException: Unable to start framework
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.runtimeException(FrameworkWrapperImpl.java:187)
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.startFramework(FrameworkWrapperImpl.java:164)
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withFramework(FrameworkWrapperImpl.java:253)
 at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.withConnection(FrameworkWrapperContainer.java:103)
 at uk.co.strangeskies.p2.bnd.P2BndRepository.withConnection(P2BndRepository.java:256)
 at uk.co.strangeskies.p2.bnd.P2BndRepository.getName(P2BndRepository.java:283)
 at uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest.createRepositoryWaitReopenTest(P2BndRepositoryTest.java:101)
 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 at java.lang.reflect.Method.invoke(Method.java:497)
 at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
 at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
 at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
 at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
 at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
 at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
 at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
 at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
 at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
 at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
 at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
 at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
 at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
 at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
 at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
 at junit.framework.TestSuite.runTest(TestSuite.java:252)
 at junit.framework.TestSuite.run(TestSuite.java:247)
 at aQute.junit.Activator.test(Activator.java:325)
 at aQute.junit.Activator.automatic(Activator.java:208)
 at aQute.junit.Activator.run(Activator.java:142)
 at aQute.launcher.Launcher$5.call(Launcher.java:1213)
 at aQute.launcher.Launcher$5.call(Launcher.java:1211)
 at aQute.launcher.Launcher.run(Launcher.java:315)
 at aQute.launcher.Launcher.main(Launcher.java:132)
Caused by: java.lang.IllegalStateException: Unable to obtain service uk.co.strangeskies.p2.P2RepositoryFactory
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:325)
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:275)
 at uk.co.strangeskies.osgi.frameworkwrapper.FrameworkWrapper.withService(FrameworkWrapper.java:181)
 at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.lambda$2(FrameworkWrapperContainer.java:162)
 at uk.co.strangeskies.utilities.ObservableImpl.fire(ObservableImpl.java:65)
 at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.startFramework(FrameworkWrapperImpl.java:162)
 ... 33 more
]]>
    </error>
    <system-out>
      INFO: Creating P2BndRepository
WARN: Setting P2 repository
       properties: {name=first, location=http://download.eclipse.org/releases/mars/}
      
INFO: Creating P2BndRepository
WARN: Setting P2 repository
       properties: {name=second, location=http://download.eclipse.org/releases/mars/}
      
[1464357048454; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.osgi.frameworkwrapper.FrameworkWrapper}={component.name=uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl,
       component.id=9, service.id=62, service.bundleid=26, service.scope=bundle}]
       ServiceEvent UNREGISTERING
[1464357048454; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.osgi.frameworkwrapper.FrameworkWrapper}={component.name=uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl,
       component.id=9, service.id=62, service.bundleid=26, service.scope=bundle}]
       ServiceEvent UNREGISTERING
[1464357048456; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.utilities.Log}={component.name=uk.co.strangeskies.osgi.logging.LogProvider,
       component.id=10, service.id=63, service.bundleid=26, service.scope=prototype}]
       ServiceEvent UNREGISTERING
[1464357048456; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.utilities.Log}={component.name=uk.co.strangeskies.osgi.logging.LogProvider,
       component.id=10, service.id=63, service.bundleid=26, service.scope=prototype}]
       ServiceEvent UNREGISTERING
[1464357048457; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {org.osgi.service.log.LogListener}={component.name=uk.co.strangeskies.osgi.logging.LogWrapper,
       component.id=11, service.id=64, service.bundleid=26, service.scope=bundle}]
       ServiceEvent UNREGISTERING
[1464357048457; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {org.osgi.service.log.LogListener}={component.name=uk.co.strangeskies.osgi.logging.LogWrapper,
       component.id=11, service.id=64, service.bundleid=26, service.scope=bundle}]
       ServiceEvent UNREGISTERING
INFO: Closing framework
INFO:
       Loading framework
INFO: Starting framework
INFO: Registering
       bundles
[1464357049249; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.utilities.text.LocaleManager, uk.co.strangeskies.utilities.text.LocaleProvider}={component.name=uk.co.strangeskies.osgi.text.LocaleManagerService,
       component.id=12, service.id=65, service.bundleid=26, service.scope=bundle}]
       ServiceEvent REGISTERED
[1464357049249; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.utilities.text.LocaleManager, uk.co.strangeskies.utilities.text.LocaleProvider}={component.name=uk.co.strangeskies.osgi.text.LocaleManagerService,
       component.id=12, service.id=65, service.bundleid=26, service.scope=bundle}]
       ServiceEvent REGISTERED
[1464357049249; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.utilities.text.Localizer}={component.name=uk.co.strangeskies.osgi.text.LocalizerService,
       component.id=13, service.id=66, service.bundleid=26, service.scope=prototype}]
       ServiceEvent REGISTERED
[1464357049249; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]; {uk.co.strangeskies.utilities.text.Localizer}={component.name=uk.co.strangeskies.osgi.text.LocalizerService,
       component.id=13, service.id=66, service.bundleid=26, service.scope=prototype}]
       ServiceEvent REGISTERED
INFO: Successfully started bundles
      
[1464357049250; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]] BundleEvent STARTED
[1464357049250; INFO   ; uk.co.strangeskies.osgi.provider_1.0.13.201605271336
       [26]] BundleEvent STARTED
[1464357049251; ERROR  ; uk.co.strangeskies.p2.provider_1.0.13.201605271344
       [12]] FrameworkEvent ERROR
[1464357049252; ERROR  ; uk.co.strangeskies.p2.provider_1.0.13.201605271344
       [12]] FrameworkEvent ERROR
ERROR: Timed out waiting for service
       uk.co.strangeskies.p2.P2RepositoryFactory
ERROR: Unable to
       perform action with service interface uk.co.strangeskies.p2.P2RepositoryFactory:
       Unable to obtain service uk.co.strangeskies.p2.P2RepositoryFactory
      
ERROR: Unable to start framework: Unable to obtain service
       uk.co.strangeskies.p2.P2RepositoryFactory
ERROR: Unable to
       perform framework action uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer$$Lambda$55/96406857@24b52d3e:
       Unable to start framework
    </system-out>
    <system-err>
      org.osgi.framework.ServiceException: Exception in org.apache.felix.scr.impl.manager.SingleComponentManager.getService()
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.factoryGetService(ServiceFactoryUse.java:222)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.getService(ServiceFactoryUse.java:111)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceConsumer$2.getService(ServiceConsumer.java:45)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:496)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:461)
      
	at org.eclipse.osgi.internal.framework.BundleContextImpl.getService(BundleContextImpl.java:619)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:314)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:275)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.FrameworkWrapper.withService(FrameworkWrapper.java:181)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.lambda$2(FrameworkWrapperContainer.java:162)
      
	at uk.co.strangeskies.utilities.ObservableImpl.fire(ObservableImpl.java:65)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.startFramework(FrameworkWrapperImpl.java:162)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withFramework(FrameworkWrapperImpl.java:253)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.withConnection(FrameworkWrapperContainer.java:103)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.withConnection(P2BndRepository.java:256)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.getName(P2BndRepository.java:283)
      
	at uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest.createRepositoryWaitReopenTest(P2BndRepositoryTest.java:101)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
      
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
      
	at java.lang.reflect.Method.invoke(Method.java:497)
	at
       org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
      
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
      
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
      
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
      
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
      
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
      
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
      
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
      
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
      
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
      
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
      
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
      
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
      
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
      
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at
       aQute.junit.Activator.test(Activator.java:325)
	at aQute.junit.Activator.automatic(Activator.java:208)
      
	at aQute.junit.Activator.run(Activator.java:142)
	at aQute.launcher.Launcher$5.call(Launcher.java:1213)
      
	at aQute.launcher.Launcher$5.call(Launcher.java:1211)

      	at aQute.launcher.Launcher.run(Launcher.java:315)
	at aQute.launcher.Launcher.main(Launcher.java:132)
      
Caused by: java.lang.NoClassDefFoundError: uk/co/strangeskies/p2/P2RepositoryFactory
      
	at java.lang.ClassLoader.defineClass1(Native Method)
	at
       java.lang.ClassLoader.defineClass(ClassLoader.java:760)

      	at org.eclipse.osgi.internal.loader.ModuleClassLoader.defineClass(ModuleClassLoader.java:272)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.defineClass(ClasspathManager.java:632)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findClassImpl(ClasspathManager.java:588)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClassImpl(ClasspathManager.java:540)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:527)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:324)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:327)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:402)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:352)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:344)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)
      
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
      
	at org.eclipse.osgi.internal.framework.EquinoxBundle.loadClass(EquinoxBundle.java:573)
      
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.initDependencyManagers(AbstractComponentManager.java:952)
      
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:980)
      
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:793)
      
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:763)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse$1.run(ServiceFactoryUse.java:212)
      
	at java.security.AccessController.doPrivileged(Native Method)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.factoryGetService(ServiceFactoryUse.java:210)
      
	... 44 more
Caused by: java.lang.ClassNotFoundException:
       uk.co.strangeskies.p2.P2RepositoryFactory cannot be found
       by uk.co.strangeskies.p2.provider_1.0.13.201605271344
	at
       org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:389)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:352)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:344)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)
      
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
      
	... 66 more
org.apache.felix.log.LogException: org.osgi.framework.ServiceException:
       Exception in org.apache.felix.scr.impl.manager.SingleComponentManager.getService()
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.factoryGetService(ServiceFactoryUse.java:222)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.getService(ServiceFactoryUse.java:111)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceConsumer$2.getService(ServiceConsumer.java:45)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:496)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:461)
      
	at org.eclipse.osgi.internal.framework.BundleContextImpl.getService(BundleContextImpl.java:619)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:314)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:275)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.FrameworkWrapper.withService(FrameworkWrapper.java:181)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.lambda$2(FrameworkWrapperContainer.java:162)
      
	at uk.co.strangeskies.utilities.ObservableImpl.fire(ObservableImpl.java:65)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.startFramework(FrameworkWrapperImpl.java:162)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withFramework(FrameworkWrapperImpl.java:253)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.withConnection(FrameworkWrapperContainer.java:103)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.withConnection(P2BndRepository.java:256)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.getName(P2BndRepository.java:283)
      
	at uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest.createRepositoryWaitReopenTest(P2BndRepositoryTest.java:101)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
      
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
      
	at java.lang.reflect.Method.invoke(Method.java:497)
	at
       org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
      
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
      
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
      
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
      
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
      
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
      
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
      
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
      
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
      
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
      
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
      
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
      
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
      
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
      
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at
       aQute.junit.Activator.test(Activator.java:325)
	at aQute.junit.Activator.automatic(Activator.java:208)
      
	at aQute.junit.Activator.run(Activator.java:142)
	at aQute.launcher.Launcher$5.call(Launcher.java:1213)
      
	at aQute.launcher.Launcher$5.call(Launcher.java:1211)

      	at aQute.launcher.Launcher.run(Launcher.java:315)
	at aQute.launcher.Launcher.main(Launcher.java:132)
      
Caused by: org.apache.felix.log.LogException: java.lang.NoClassDefFoundError:
       uk/co/strangeskies/p2/P2RepositoryFactory
	at java.lang.ClassLoader.defineClass1(Native
       Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:760)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.defineClass(ModuleClassLoader.java:272)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.defineClass(ClasspathManager.java:632)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findClassImpl(ClasspathManager.java:588)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClassImpl(ClasspathManager.java:540)
      
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:527)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:324)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:327)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:402)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:352)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:344)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)
      
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
      
	at org.eclipse.osgi.internal.framework.EquinoxBundle.loadClass(EquinoxBundle.java:573)
      
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.initDependencyManagers(AbstractComponentManager.java:952)
      
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:980)
      
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:793)
      
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:763)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse$1.run(ServiceFactoryUse.java:212)
      
	at java.security.AccessController.doPrivileged(Native Method)
      
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.factoryGetService(ServiceFactoryUse.java:210)
      
	... 44 more
Caused by: java.lang.ClassNotFoundException:
       uk.co.strangeskies.p2.P2RepositoryFactory cannot be found
       by uk.co.strangeskies.p2.provider_1.0.13.201605271344
	at
       org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:389)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:352)
      
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:344)
      
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)
      
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
      
	... 66 more
java.lang.IllegalStateException: Unable to
       obtain service uk.co.strangeskies.p2.P2RepositoryFactory
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:325)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withService(FrameworkWrapperImpl.java:275)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.FrameworkWrapper.withService(FrameworkWrapper.java:181)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.lambda$2(FrameworkWrapperContainer.java:162)
      
	at uk.co.strangeskies.utilities.ObservableImpl.fire(ObservableImpl.java:65)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.startFramework(FrameworkWrapperImpl.java:162)
      
	at uk.co.strangeskies.osgi.frameworkwrapper.impl.FrameworkWrapperImpl.withFramework(FrameworkWrapperImpl.java:253)
      
	at uk.co.strangeskies.p2.bnd.FrameworkWrapperContainer.withConnection(FrameworkWrapperContainer.java:103)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.withConnection(P2BndRepository.java:256)
      
	at uk.co.strangeskies.p2.bnd.P2BndRepository.getName(P2BndRepository.java:283)
      
	at uk.co.strangeskies.p2bnd.test.P2BndRepositoryTest.createRepositoryWaitReopenTest(P2BndRepositoryTest.java:101)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
      
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
      
	at java.lang.reflect.Method.invoke(Method.java:497)
	at
       org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
      
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
      
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
      
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
      
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
      
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
      
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
      
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
      
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
      
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
      
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
      
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
      
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
      
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
      
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
      
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at
       aQute.junit.Activator.test(Activator.java:325)
	at aQute.junit.Activator.automatic(Activator.java:208)
      
	at aQute.junit.Activator.run(Activator.java:142)
	at aQute.launcher.Launcher$5.call(Launcher.java:1213)
      
	at aQute.launcher.Launcher$5.call(Launcher.java:1211)

      	at aQute.launcher.Launcher.run(Launcher.java:315)
	at aQute.launcher.Launcher.main(Launcher.java:132)
    </system-err>
  </testcase>
</testsuite>